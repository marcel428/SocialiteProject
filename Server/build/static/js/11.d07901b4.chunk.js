/*! For license information please see 11.d07901b4.chunk.js.LICENSE.txt */
(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[11],{144:function(e,t,i){},177:function(e,t,i){"use strict";i.r(t);var o=i(1),a=i(73),n=i(74),c=i(76),d=i(75),s=i(0),r=(i(37),i(3)),l=i(19),h=i(77),p=i.n(h),u=(i(79),i(85)),v=i(86),m=(i(87),i(88),i(144),function(e){Object(c.a)(i,e);var t=Object(d.a)(i);function i(e){var o;return Object(a.a)(this,i),(o=t.call(this,e)).state={template:o.props.location.query,videoFilePath:o.props.location.videoFilePath,videoWidth:o.props.location.videoWidth,videoHeight:o.props.location.videoHeight,crop:{unit:"px",width:100,height:100,x:(o.props.location.videoWidth-100)/2,y:(o.props.location.videoHeight-100)/2},shouldRedirect:!1,savedVideo:"",loading:!1,percent:.3,mainVideoWidth:"",mainVideoHeight:"",faceVideoWidth:"",faceVideoHeight:"",faceMarginLeftAndRight:"",faceMarginTop:"",faceMarginBottom:"",totalVideoWidth:"",totalVideoHeight:""},o.handleCrop=function(e,t){o.setState({crop:e})},o.sendSelectedVideo=function(){o.setState({loading:!0}),console.log("this.props.location.mainVideo"),console.log(o.props.location.mainVideo);var e=o.props.location.mainVideo.height/(1-o.props.location.query.gamerVideo.height),t={x:o.props.location.mainVideo.x,y:o.props.location.mainVideo.y-(e-o.props.location.mainVideo.height),height:e,width:o.props.location.mainVideo.width};console.log("resizeMainVideo"),console.log(t),p.a.post("".concat("http://18.222.58.119/api/v1","/editor/thumbnail"),{videoFilePath:o.props.location.videoFilePath,template:o.props.location.query,faceVideo:o.props.location.faceVideo?o.props.location.faceVideo:null,mainVideo:o.props.location.mainVideo}).then((function(e){console.log("res"),console.log(e),o.setState({loading:!1,shouldRedirect:!0,savedVideo:e.data})}))},o}return Object(n.a)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(console.log("this.props"),console.log(this.props),this.state.shouldRedirect)return Object(o.jsx)(r.a,{to:{pathname:"save",savedVideo:this.state.savedVideo}});var e=this.props.location,t=window.innerWidth/2;if(e.query.gamerVideo){var i=e.mainVideo.width/e.faceVideo.width,a=e.videoWidth*i,n=e.videoHeight*i,c=e.mainVideo.height*e.query.gamerVideo.height/(1-e.query.gamerVideo.height),d=e.faceVideo.y*i,s=e.faceVideo.x*i,h=a-s-e.mainVideo.width,p=n-e.faceVideo.y*i-c;console.log("totalFaceVideoHeight"),console.log(p);var m=t-(s+e.mainVideo.width/2),f=e.faceVideo.y*i}var j=e.mainVideo.y,x=e.videoWidth-e.mainVideo.x-e.mainVideo.width,g=e.videoHeight-e.mainVideo.y-e.mainVideo.height,b=e.mainVideo.x,V=t-(e.mainVideo.x+e.mainVideo.width/2);if(e.query.gamerVideo){console.log("sdfsdf");var y=e.mainVideo.y+(n-c)+5}else y=e.mainVideo.y;var O=e.mainVideo.height+(c||0);return Object(o.jsx)("div",{children:this.state.loading?Object(o.jsx)("div",{children:"Wait a second"}):Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{style:{marginBottom:"30px"},children:Object(o.jsxs)(u.a,{children:[Object(o.jsx)(v.a,{children:this.state.template&&this.state.template.gamerVideo?Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Select Facecam\xa0\xa0"}),Object(o.jsx)("input",{type:"checkbox",checked:!0,value:1,readOnly:!0})]}):null}),Object(o.jsx)(v.a,{children:this.state.template&&this.state.template.mainVideo?Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Select gamefeed\xa0\xa0"}),Object(o.jsx)("input",{type:"checkbox",checked:!0,value:1,readOnly:!0})]}):null}),Object(o.jsxs)(v.a,{children:[Object(o.jsx)("span",{children:"Preview\xa0\xa0"}),Object(o.jsx)("input",{type:"checkbox",checked:!0,value:1,readOnly:!0})]})]})}),Object(o.jsxs)("div",{style:{maxHeight:O,overflow:"hidden",width:"fit-content"},children:[e.query.gamerVideo?Object(o.jsx)("div",{children:Object(o.jsx)("video",{autoPlay:!0,width:a,height:n,src:this.props.location.videoFilePath,style:{position:"relative",clipPath:"inset(".concat(d,"px ").concat(h,"px ").concat(p,"px ").concat(s,"px)"),left:m,bottom:f}})}):null,Object(o.jsx)("div",{children:Object(o.jsx)("video",{autoPlay:!0,width:e.videoWidth,height:e.videoHeight,src:this.props.location.videoFilePath,style:{position:"relative",clipPath:"inset(".concat(j,"px ").concat(x,"px ").concat(g,"px ").concat(b,"px)"),left:V,bottom:y}})})]}),Object(o.jsxs)("div",{style:{textAlign:"center",marginTop:"30px",marginBottom:30},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(l.b,{to:{pathname:"/template",state:{videoFilePath:e.videoFilePath,videoWidth:e.videoWidth,videoHeight:e.videoHeight}},children:Object(o.jsx)("button",{children:"Change template"})}),Object(o.jsx)(l.b,{to:{pathname:e.query.gamerVideo?"face-edit":"main-edit",query:e.query,videoFilePath:e.videoFilePath,videoWidth:e.videoWidth,videoHeight:e.videoHeight},children:Object(o.jsx)("button",{children:"Redo"})})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:this.sendSelectedVideo,children:"save"})})]})]})})}}]),i}(s.Component));t.default=m},71:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i(2);var o=i(0),a=i.n(o),n=a.a.createContext({});n.Consumer,n.Provider;function c(e,t){var i=Object(o.useContext)(n);return e||i[t]||t}},72:function(e,t,i){var o;!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)&&o.length){var c=a.apply(null,o);c&&e.push(c)}else if("object"===n)for(var d in o)i.call(o,d)&&o[d]&&e.push(d)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()},85:function(e,t,i){"use strict";var o=i(2),a=i(4),n=i(72),c=i.n(n),d=i(0),s=i.n(d),r=i(71),l=["xl","lg","md","sm","xs"],h=s.a.forwardRef((function(e,t){var i=e.bsPrefix,n=e.className,d=e.noGutters,h=e.as,p=void 0===h?"div":h,u=Object(a.a)(e,["bsPrefix","className","noGutters","as"]),v=Object(r.a)(i,"row"),m=v+"-cols",f=[];return l.forEach((function(e){var t,i=u[e];delete u[e];var o="xs"!==e?"-"+e:"";null!=(t=null!=i&&"object"===typeof i?i.cols:i)&&f.push(""+m+o+"-"+t)})),s.a.createElement(p,Object(o.a)({ref:t},u,{className:c.a.apply(void 0,[n,v,d&&"no-gutters"].concat(f))}))}));h.displayName="Row",h.defaultProps={noGutters:!1},t.a=h},86:function(e,t,i){"use strict";var o=i(2),a=i(4),n=i(72),c=i.n(n),d=i(0),s=i.n(d),r=i(71),l=["xl","lg","md","sm","xs"],h=s.a.forwardRef((function(e,t){var i=e.bsPrefix,n=e.className,d=e.as,h=void 0===d?"div":d,p=Object(a.a)(e,["bsPrefix","className","as"]),u=Object(r.a)(i,"col"),v=[],m=[];return l.forEach((function(e){var t,i,o,a=p[e];if(delete p[e],"object"===typeof a&&null!=a){var n=a.span;t=void 0===n||n,i=a.offset,o=a.order}else t=a;var c="xs"!==e?"-"+e:"";t&&v.push(!0===t?""+u+c:""+u+c+"-"+t),null!=o&&m.push("order"+c+"-"+o),null!=i&&m.push("offset"+c+"-"+i)})),v.length||v.push(u),s.a.createElement(h,Object(o.a)({},p,{ref:t,className:c.a.apply(void 0,[n].concat(v,m))}))}));h.displayName="Col",t.a=h}}]);
//# sourceMappingURL=11.d07901b4.chunk.js.map