(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[14],{161:function(e,i,t){},195:function(e,i,t){"use strict";t.r(i);var o=t(1),a=t(73),n=t(74),d=t(76),c=t(75),s=t(0),l=(t(37),t(3)),r=t(19),h=t(77),p=t.n(h),v=(t(79),t(85)),u=t(86),m=(t(87),t(88),t(161),function(e){Object(d.a)(t,e);var i=Object(c.a)(t);function t(e){var o;return Object(a.a)(this,t),(o=i.call(this,e)).state={template:o.props.location.query,videoFilePath:o.props.location.videoFilePath,videoWidth:o.props.location.videoWidth,videoHeight:o.props.location.videoHeight,crop:{unit:"px",width:100,height:100,x:(o.props.location.videoWidth-100)/2,y:(o.props.location.videoHeight-100)/2},shouldRedirect:!1,savedVideo:"",loading:!1,percent:.3,mainVideoWidth:"",mainVideoHeight:"",faceVideoWidth:"",faceVideoHeight:"",faceMarginLeftAndRight:"",faceMarginTop:"",faceMarginBottom:"",totalVideoWidth:"",totalVideoHeight:""},o.handleCrop=function(e,i){o.setState({crop:e})},o.sendSelectedVideo=function(){o.setState({loading:!0}),console.log("this.props.location.mainVideo"),console.log(o.props.location.mainVideo);o.props.location.mainVideo.width,o.props.location.faceVideo.width;var e=o.props.location.mainVideo.height/(1-o.props.location.query.gamerVideo.height),i=(o.props.location.mainVideo.y,o.props.location.mainVideo.height,{x:o.props.location.mainVideo.x,y:o.props.location.mainVideo.y-(e-o.props.location.mainVideo.height),height:e,width:o.props.location.mainVideo.width});console.log("resizeMainVideo"),console.log(i),p.a.post("".concat("http://18.119.84.95/api/v1","/editor/thumbnail"),{videoFilePath:o.props.location.videoFilePath,template:o.props.location.query,faceVideo:o.props.location.faceVideo?o.props.location.faceVideo:null,mainVideo:o.props.location.mainVideo}).then((function(e){console.log("res"),console.log(e),o.setState({loading:!1,shouldRedirect:!0,savedVideo:e.data})}))},o}return Object(n.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.location,i=window.innerWidth/2,t=e.query.mainVideo.height/e.query.mainVideo.width,a=.3*window.innerWidth;if(e.query.gamerVideo)var n=a/e.faceVideo.width,d=a,c=a*t*e.query.gamerVideo.height,s=e.videoWidth*n,h=e.videoHeight*n,p=e.faceVideo.y*n,m=e.faceVideo.x*n,j=s-m-d,x=h-e.faceVideo.y*n-c,b=i-(m+d/2),f=e.faceVideo.y*n;var g=a/e.mainVideo.width,V=e.videoWidth*g,y=e.videoHeight*g,O=e.mainVideo.y*g,w=e.videoWidth*g-e.mainVideo.x*g-e.mainVideo.width*g,P=e.videoHeight*g-e.mainVideo.y*g-e.mainVideo.height*g,W=e.mainVideo.x*g,H=i-(e.mainVideo.x*g+e.mainVideo.width*g/2);if(e.query.gamerVideo)var q=e.mainVideo.y*g+(h-c)+5;else q=e.mainVideo.y*g;var k=a*t;return this.state.shouldRedirect?Object(o.jsx)(l.a,{to:{pathname:"save",savedVideo:this.state.savedVideo,displayPercentInSave:.3}}):Object(o.jsx)("div",{children:this.state.loading?Object(o.jsx)("div",{children:"Wait a second"}):Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{style:{marginBottom:"30px"},children:Object(o.jsxs)(v.a,{children:[Object(o.jsx)(u.a,{children:this.state.template&&this.state.template.gamerVideo?Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Select Facecam\xa0\xa0"}),Object(o.jsx)("input",{type:"checkbox",checked:!0,value:1,readOnly:!0})]}):null}),Object(o.jsx)(u.a,{children:this.state.template&&this.state.template.mainVideo?Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Select gamefeed\xa0\xa0"}),Object(o.jsx)("input",{type:"checkbox",checked:!0,value:1,readOnly:!0})]}):null}),Object(o.jsxs)(u.a,{children:[Object(o.jsx)("span",{children:"Preview\xa0\xa0"}),Object(o.jsx)("input",{type:"checkbox",checked:!0,value:1,readOnly:!0})]})]})}),Object(o.jsxs)("div",{style:{maxHeight:k,overflow:"hidden",width:"fit-content"},children:[e.query.gamerVideo?Object(o.jsx)("div",{children:Object(o.jsx)("video",{autoPlay:!0,width:s,height:h,src:this.props.location.videoFilePath,style:{position:"relative",clipPath:"inset(".concat(p,"px ").concat(j,"px ").concat(x,"px ").concat(m,"px)"),left:b,bottom:f}})}):null,Object(o.jsx)("div",{children:Object(o.jsx)("video",{autoPlay:!0,width:V,height:y,src:this.props.location.videoFilePath,style:{position:"relative",clipPath:"inset(".concat(O,"px ").concat(w,"px ").concat(P,"px ").concat(W,"px)"),left:H,bottom:q}})})]}),Object(o.jsxs)("div",{style:{textAlign:"center",marginTop:"30px",marginBottom:30},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(r.b,{to:{pathname:"/template",state:{videoFilePath:e.videoFilePath,videoWidth:e.videoWidth,videoHeight:e.videoHeight}},children:Object(o.jsx)("button",{children:"Change template"})}),Object(o.jsx)(r.b,{to:{pathname:e.query.gamerVideo?"face-edit":"main-edit",query:e.query,videoFilePath:e.videoFilePath,videoWidth:e.videoWidth,videoHeight:e.videoHeight},children:Object(o.jsx)("button",{children:"Redo"})})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:this.sendSelectedVideo,children:"save"})})]})]})})}}]),t}(s.Component));i.default=m},85:function(e,i,t){"use strict";var o=t(2),a=t(4),n=t(72),d=t.n(n),c=t(0),s=t.n(c),l=t(71),r=["xl","lg","md","sm","xs"],h=s.a.forwardRef((function(e,i){var t=e.bsPrefix,n=e.className,c=e.noGutters,h=e.as,p=void 0===h?"div":h,v=Object(a.a)(e,["bsPrefix","className","noGutters","as"]),u=Object(l.a)(t,"row"),m=u+"-cols",j=[];return r.forEach((function(e){var i,t=v[e];delete v[e];var o="xs"!==e?"-"+e:"";null!=(i=null!=t&&"object"===typeof t?t.cols:t)&&j.push(""+m+o+"-"+i)})),s.a.createElement(p,Object(o.a)({ref:i},v,{className:d.a.apply(void 0,[n,u,c&&"no-gutters"].concat(j))}))}));h.displayName="Row",h.defaultProps={noGutters:!1},i.a=h},86:function(e,i,t){"use strict";var o=t(2),a=t(4),n=t(72),d=t.n(n),c=t(0),s=t.n(c),l=t(71),r=["xl","lg","md","sm","xs"],h=s.a.forwardRef((function(e,i){var t=e.bsPrefix,n=e.className,c=e.as,h=void 0===c?"div":c,p=Object(a.a)(e,["bsPrefix","className","as"]),v=Object(l.a)(t,"col"),u=[],m=[];return r.forEach((function(e){var i,t,o,a=p[e];if(delete p[e],"object"===typeof a&&null!=a){var n=a.span;i=void 0===n||n,t=a.offset,o=a.order}else i=a;var d="xs"!==e?"-"+e:"";i&&u.push(!0===i?""+v+d:""+v+d+"-"+i),null!=o&&m.push("order"+d+"-"+o),null!=t&&m.push("offset"+d+"-"+t)})),u.length||u.push(v),s.a.createElement(h,Object(o.a)({},p,{ref:i,className:d.a.apply(void 0,[n].concat(u,m))}))}));h.displayName="Col",i.a=h}}]);
//# sourceMappingURL=14.906b6109.chunk.js.map