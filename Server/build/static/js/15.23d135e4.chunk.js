(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[15],{224:function(e,t,o){},225:function(e,t,o){(function(o){var n,a,i;a=[],void 0===(i="function"===typeof(n=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,o){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l(n.response,t,o)},n.onerror=function(){console.error("could not download file")},n.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,c=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(e,t,o){var c=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):a(l.href)?n(e,t,o):i(l,l.target="_blank")):(l.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),o);else if(a(e))n(e,o,r);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){i(c)}))}}:function(e,t,o,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,o);var i="application/octet-stream"===e.type,l=/constructor/i.test(r.HTMLElement)||r.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&l||c)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},d.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,p=u.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});r.saveAs=l.saveAs=l,e.exports=l})?n.apply(t,a):n)||(e.exports=i)}).call(this,o(16))},252:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o(74),i=o(75),r=o(77),c=o(76),l=o(0),s=o.n(l),d=(o(38),o(3)),u=o(79),p=o.n(u),f=(o(81),o(245)),h=o(94),v=(o(102),o(103),o(224),o(225)),m=function(e){Object(r.a)(o,e);var t=Object(c.a)(o);function o(e){var n;return Object(a.a)(this,o),(n=t.call(this,e)).state={savedVideo:localStorage.getItem("savedVideo"),displayPercentInSave:localStorage.getItem("displayPercentInSave"),shouldRedirect:!1,url:null,authed:!1,displayQrcode:!1,qrcode:""},n.uploadGoogleDrive=function(){p.a.get("".concat("https://socialsgonewild.com/api/v1","/googleDrive/upload")).then((function(e){200==e.status&&n.setState({shouldRedirect:!0})})).catch((function(e){console.log(e)}))},n.download=function(){Object(v.saveAs)("".concat("https://socialsgonewild.com/uploads","/editedVideos/").concat(n.state.savedVideo),n.state.savedVideo)},n.goToHome=function(){n.setState({shouldRedirect:!0})},n.getQrcode=function(e){e.preventDefault(),p.a.post("".concat("https://socialsgonewild.com/api/v1","/qrcode/"),{url:"".concat("https://socialsgonewild.com/uploads","/editedVideos/").concat(n.state.savedVideo)}).then((function(e){e.data&&(alert("QR code is gernerated successfully!"),n.setState({displayQrcode:!0,qrcode:e.data}))})).catch((function(e){console.log(e)}))},n.videoPlayer=s.a.createRef(),n}return Object(i.a)(o,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://socialsgonewild.com/api/v1","/googleDrive/?fileName=").concat(this.state.savedVideo)).then((function(t){200==t.status&&(console.log("res"),console.log(t),t.data.authed?e.setState({authed:!0}):e.setState({url:t.data.url,authed:!1}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return this.state.shouldRedirect?(localStorage.getItem("faceVideo")&&localStorage.removeItem("faceVideo"),localStorage.getItem("mainVideo")&&localStorage.removeItem("mainVideo"),localStorage.getItem("savedVideo")&&localStorage.removeItem("savedVideo"),localStorage.getItem("template")&&localStorage.removeItem("template"),localStorage.getItem("videoFilePath")&&localStorage.removeItem("videoFilePath"),localStorage.getItem("videoType")&&localStorage.removeItem("videoType"),localStorage.getItem("videoHeight")&&localStorage.removeItem("videoHeight"),localStorage.getItem("videoWidth")&&localStorage.removeItem("videoWidth"),localStorage.getItem("displayPercentInSave")&&localStorage.removeItem("displayPercentInSave"),Object(h.a)(),Object(n.jsx)(d.a,{to:{pathname:"/"}})):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{display:"flex",width:"100%"},children:this.state.savedVideo?Object(n.jsx)("video",{muted:!0,playsInline:!0,ref:this.videoPlayer,onLoadedData:function(){e.videoPlayer.current.play()},style:{marginRight:"auto",marginLeft:"auto"},autoPlay:!0,controls:!0,src:"".concat("https://socialsgonewild.com/uploads","/editedVideos/").concat(this.state.savedVideo)}):null}),Object(n.jsx)("div",{style:{textAlign:"center",padding:"30px"},children:Object(n.jsx)("button",{onClick:this.goToHome,children:"go to home"})}),Object(n.jsx)("div",{style:{textAlign:"center",padding:"0px"},children:Object(n.jsx)("button",{onClick:function(t){e.getQrcode(t)},children:"Get QR code"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:this.download,children:"download"}),Object(n.jsx)(f.a,{id:"dropdown-basic-button",title:"upload",children:this.state.authed?Object(n.jsx)("button",{onClick:this.uploadGoogleDrive,children:"Google drive"}):Object(n.jsx)("a",{href:this.state.url,children:"Google drive"})})]}),this.state.displayQrcode?Object(n.jsx)("div",{style:{marginTop:"30px",textAlign:"center"},children:Object(n.jsx)("img",{src:this.state.qrcode})}):null]})}}]),o}(l.Component);t.default=m},93:function(e,t,o){"use strict";var n=function(){};e.exports=n},94:function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return d})),o.d(t,"a",(function(){return p}));var n=o(90),a=o.n(n),i=o(91),r=o(123),c=Object(r.a)("keyval-store",1,{upgrade:function(e){e.createObjectStore("keyval")}});function l(e){return s.apply(this,arguments)}function s(){return(s=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:return e.abrupt("return",e.sent.get("keyval",t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(a.a.mark((function e(t,o){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:return e.abrupt("return",e.sent.put("keyval",o,t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:return e.abrupt("return",e.sent.clear("keyval"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},98:function(e,t,o){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var o=this.constructor.getDerivedStateFromProps(e,t);return null!==o&&void 0!==o?o:null}.bind(this))}function i(e,t){try{var o=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(o,n)}finally{this.props=o,this.state=n}}function r(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var o=null,r=null,c=null;if("function"===typeof t.componentWillMount?o="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(o="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==o||null!==r||null!==c){var l=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,o){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:o;d.call(this,e,t,n)}}return e}o.r(t),o.d(t,"polyfill",(function(){return r})),n.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0}}]);
//# sourceMappingURL=15.23d135e4.chunk.js.map