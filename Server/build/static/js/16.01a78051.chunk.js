(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[16],{100:function(e,t,i){"use strict";var a=i(2),o=i(4),s=i(72),r=i.n(s),l=i(0),n=i.n(l),d=i(73),c=["xl","lg","md","sm","xs"],h=n.a.forwardRef((function(e,t){var i=e.bsPrefix,s=e.className,l=e.noGutters,h=e.as,m=void 0===h?"div":h,p=Object(o.a)(e,["bsPrefix","className","noGutters","as"]),g=Object(d.a)(i,"row"),f=g+"-cols",v=[];return c.forEach((function(e){var t,i=p[e];delete p[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=i&&"object"===typeof i?i.cols:i)&&v.push(""+f+a+"-"+t)})),n.a.createElement(m,Object(a.a)({ref:t},p,{className:r.a.apply(void 0,[s,g,l&&"no-gutters"].concat(v))}))}));h.displayName="Row",h.defaultProps={noGutters:!1},t.a=h},101:function(e,t,i){"use strict";var a=i(2),o=i(4),s=i(72),r=i.n(s),l=i(0),n=i.n(l),d=i(73),c=["xl","lg","md","sm","xs"],h=n.a.forwardRef((function(e,t){var i=e.bsPrefix,s=e.className,l=e.as,h=void 0===l?"div":l,m=Object(o.a)(e,["bsPrefix","className","as"]),p=Object(d.a)(i,"col"),g=[],f=[];return c.forEach((function(e){var t,i,a,o=m[e];if(delete m[e],"object"===typeof o&&null!=o){var s=o.span;t=void 0===s||s,i=o.offset,a=o.order}else t=o;var r="xs"!==e?"-"+e:"";t&&g.push(!0===t?""+p+r:""+p+r+"-"+t),null!=a&&f.push("order"+r+"-"+a),null!=i&&f.push("offset"+r+"-"+i)})),g.length||g.push(p),n.a.createElement(h,Object(a.a)({},m,{ref:t,className:r.a.apply(void 0,[s].concat(g,f))}))}));h.displayName="Col",t.a=h},191:function(e,t,i){},249:function(e,t,i){"use strict";i.r(t);var a=i(1),o=i(5),s=i(74),r=i(75),l=i(77),n=i(76),d=i(0),c=i.n(d),h=(i(38),i(3)),m=(i(79),i(81),i(100)),p=i(101),g=i(102),f=i.n(g),v=(i(103),i(191),function(e){Object(l.a)(i,e);var t=Object(n.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).state={template:JSON.parse(localStorage.getItem("template")),videoFilePath:localStorage.getItem("videoFilePath"),videoWidth:localStorage.getItem("videoWidth"),videoHeight:localStorage.getItem("videoHeight"),crop:{unit:"px",width:100,height:100,aspect:1,x:0,y:0},shouldRedirect:!1,faceVideoRatio:null,templateRedirect:!1,disToRealRatio:1,gamerVideo:JSON.parse(localStorage.getItem("template")).gamerVideo[0],_16_9faceKey:!1,_4_3faceKey:!0,freeTransformKey:!1},a.handleCrop=function(e,t){var i=a.state.template.mainVideo.height/a.state.template.mainVideo.width;e.height/e.width>.7*i||a.setState({crop:e})},a.goToMain=function(){a.setState({shouldRedirect:!0})},a.goToTemplate=function(){a.setState({templateRedirect:!0})},a._4_3Facecam=function(){var e=JSON.parse(localStorage.getItem("template")).gamerVideo[1];a.setState({_16_9faceKey:!0,_4_3faceKey:!1,freeTransformKey:!1,gamerVideo:e})},a._16_9Facecam=function(){var e=JSON.parse(localStorage.getItem("template")).gamerVideo[0];a.setState({_16_9faceKey:!1,_4_3faceKey:!0,freeTransformKey:!1,gamerVideo:e})},a.freeTransform=function(){a.freeInitialCrop()},a.initialCrop=function(){var e=a.totalDiv.current.offsetWidth*(10/12)/localStorage.getItem("videoWidth");a.setState({disToRealRatio:e});var t=a.state,i=t.videoHeight/t.videoWidth,o=t.template.mainVideo.height*t.gamerVideo.height/(t.template.mainVideo.width*t.gamerVideo.width),s={};s=o<i?{unit:"px",width:t.videoWidth/3*e,height:t.videoWidth*o/3*e,aspect:1/o,x:(t.videoWidth-t.videoWidth/3)/2*e,y:(t.videoHeight-t.videoWidth*o/3)/2*e}:{unit:"px",width:t.videoHeight/o/3*e,height:t.videoHeight/3*e,aspect:1/o,x:(t.videoWidth-t.videoHeight/o/3)/2*e,y:(t.videoHeight-t.videoHeight/3)/2*e},a.setState({crop:s})},a.freeInitialCrop=function(){var e=a.totalDiv.current.offsetWidth*(10/12)/localStorage.getItem("videoWidth");a.setState({});var t=a.state,i=t.videoHeight/t.videoWidth,o=t.template.mainVideo.height*t.gamerVideo.height/(t.template.mainVideo.width*t.gamerVideo.width),s={};s=o<i?{unit:"px",width:t.videoWidth/3*e,height:t.videoWidth*o/3*e,x:(t.videoWidth-t.videoWidth/3)/2*e,y:(t.videoHeight-t.videoWidth*o/3)/2*e}:{unit:"px",width:t.videoHeight/o/3*e,height:t.videoHeight/3*e,x:(t.videoWidth-t.videoHeight/o/3)/2*e,y:(t.videoHeight-t.videoHeight/3)/2*e},a.setState({disToRealRatio:e,freeTransformKey:!0,crop:s})},a.videoPlayer=c.a.createRef(),a.totalDiv=c.a.createRef(),a}return Object(r.a)(i,[{key:"componentDidUpdate",value:function(e,t){console.log("this.state"),console.log(this.state),this.state.gamerVideo.name!=t.gamerVideo.name&&this.initialCrop()}},{key:"componentDidMount",value:function(){"split"==this.state.template.name?this.initialCrop():(this.state.template.name="square")&&this.freeInitialCrop()}},{key:"render",value:function(){var e=this;if(this.state.templateRedirect)return localStorage.removeItem("template"),Object(a.jsx)(h.a,{to:{pathname:"template"}});if(this.state.shouldRedirect){var t={width:this.state.crop.width/this.state.disToRealRatio,height:this.state.crop.height/this.state.disToRealRatio,x:this.state.crop.x/this.state.disToRealRatio,y:this.state.crop.y/this.state.disToRealRatio};if(localStorage.setItem("faceVideo",JSON.stringify(t)),localStorage.setItem("selectedFaceVideo",JSON.stringify(this.state.crop)),"split"==this.state.template.name)if(this.state.freeTransformKey){console.log("sdfsdfsdf");var i=this.state.crop.height/this.state.crop.width*(this.state.template.mainVideo.width/this.state.template.mainVideo.height);console.log("gamerHeight"),console.log(i);var s={width:1,height:i,x:0,y:0},r=Object(o.a)(Object(o.a)({},this.state.template),{},{gamerVideo:s});console.log("template"),console.log(r),localStorage.removeItem("template"),localStorage.setItem("template",JSON.stringify(r))}else{var l=Object(o.a)(Object(o.a)({},this.state.template),{},{gamerVideo:this.state.gamerVideo});localStorage.setItem("template",JSON.stringify(l))}if("square"==this.state.template.name){var n=Object(o.a)(Object(o.a)({},this.state.template),{},{gamerVideo:this.state.gamerVideo});localStorage.setItem("template",JSON.stringify(n))}return Object(a.jsx)(h.a,{to:{pathname:"main-edit"}})}return Object(a.jsx)("div",{children:Object(a.jsxs)(m.a,{ref:this.totalDiv,style:{width:"100%"},children:[Object(a.jsx)(p.a,{md:10,style:{padding:"0px"},children:Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)(f.a,{style:{width:"100%"},crop:this.state.crop,keepSelection:!0,onChange:function(t,i){e.handleCrop(t,i)},renderComponent:u(this.state.videoFilePath,this.videoPlayer)})})}),Object(a.jsxs)(p.a,{md:2,children:["split"==this.state.template.name?Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[this.state._16_9faceKey?Object(a.jsx)("button",{onClick:this._16_9Facecam,children:"16:9 facecam"}):null,this.state._4_3faceKey?Object(a.jsx)("button",{onClick:this._4_3Facecam,children:"4:3 facecam"}):null,Object(a.jsx)("button",{onClick:this.freeTransform,children:"free transform"})]}):null,Object(a.jsxs)(m.a,{style:{width:"100%"},children:[Object(a.jsx)(p.a,{md:7,children:Object(a.jsx)("button",{onClick:this.goToTemplate,children:"Change Template"})}),Object(a.jsx)(p.a,{md:5,children:Object(a.jsx)("button",{onClick:this.goToMain,children:"Done"})})]})]})]})})}}]),i}(d.Component));t.default=v;var u=function(e,t){return Object(a.jsx)("video",{ref:t,muted:!0,onLoadedData:function(){return t.current.play()},loop:!0,style:{display:"block",width:"100%"},onLoadStart:function(e){e.target.dispatchEvent(new Event("medialoaded",{bubbles:!0}))},children:Object(a.jsx)("source",{src:e,type:"video/mp4"})})}}}]);
//# sourceMappingURL=16.01a78051.chunk.js.map