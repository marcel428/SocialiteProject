(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[17],{100:function(e,t,i){"use strict";var a=i(2),o=i(4),s=i(72),r=i.n(s),l=i(0),c=i.n(l),n=i(73),d=["xl","lg","md","sm","xs"],h=c.a.forwardRef((function(e,t){var i=e.bsPrefix,s=e.className,l=e.noGutters,h=e.as,p=void 0===h?"div":h,v=Object(o.a)(e,["bsPrefix","className","noGutters","as"]),u=Object(n.a)(i,"row"),m=u+"-cols",g=[];return d.forEach((function(e){var t,i=v[e];delete v[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=i&&"object"===typeof i?i.cols:i)&&g.push(""+m+a+"-"+t)})),c.a.createElement(p,Object(a.a)({ref:t},v,{className:r.a.apply(void 0,[s,u,l&&"no-gutters"].concat(g))}))}));h.displayName="Row",h.defaultProps={noGutters:!1},t.a=h},101:function(e,t,i){"use strict";var a=i(2),o=i(4),s=i(72),r=i.n(s),l=i(0),c=i.n(l),n=i(73),d=["xl","lg","md","sm","xs"],h=c.a.forwardRef((function(e,t){var i=e.bsPrefix,s=e.className,l=e.as,h=void 0===l?"div":l,p=Object(o.a)(e,["bsPrefix","className","as"]),v=Object(n.a)(i,"col"),u=[],m=[];return d.forEach((function(e){var t,i,a,o=p[e];if(delete p[e],"object"===typeof o&&null!=o){var s=o.span;t=void 0===s||s,i=o.offset,a=o.order}else t=o;var r="xs"!==e?"-"+e:"";t&&u.push(!0===t?""+v+r:""+v+r+"-"+t),null!=a&&m.push("order"+r+"-"+a),null!=i&&m.push("offset"+r+"-"+i)})),u.length||u.push(v),c.a.createElement(h,Object(a.a)({},p,{ref:t,className:r.a.apply(void 0,[s].concat(u,m))}))}));h.displayName="Col",t.a=h},192:function(e,t,i){},250:function(e,t,i){"use strict";i.r(t);var a=i(1),o=i(74),s=i(75),r=i(77),l=i(76),c=i(0),n=i.n(c),d=(i(38),i(3)),h=(i(79),i(81),i(100)),p=i(101),v=i(102),u=i.n(v),m=(i(103),i(192),function(e){Object(r.a)(i,e);var t=Object(l.a)(i);function i(e){var a;return Object(o.a)(this,i),(a=t.call(this,e)).state={template:JSON.parse(localStorage.getItem("template")),videoFilePath:localStorage.getItem("videoFilePath"),videoWidth:localStorage.getItem("videoWidth"),videoHeight:localStorage.getItem("videoHeight"),faceVideo:localStorage.getItem("faceVideo")?JSON.parse(localStorage.getItem("faceVideo")):null,crop:{unit:"px",width:50,height:50,aspect:1,x:0,y:0},shouldRedirect:!1,previewVideo:"",loading:!1,templateRedirect:!1,disToRealRatio:1},a.handleCrop=function(e,t){a.setState({crop:e})},a.goToPreview=function(){a.setState({shouldRedirect:!0})},a.goToTemplate=function(){a.setState({templateRedirect:!0})},a.videoPlayer=n.a.createRef(),a.totalDiv=n.a.createRef(),a}return Object(s.a)(i,[{key:"componentDidMount",value:function(){var e=this.totalDiv.current.offsetWidth*(10/12)/localStorage.getItem("videoWidth");this.setState({disToRealRatio:e});var t=this.state,i=t.videoHeight/t.videoWidth;if("split"==t.template.name)var a=t.template.mainVideo.height*(1-t.template.gamerVideo.height)/t.template.mainVideo.width;else a=t.template.mainVideo.height/t.template.mainVideo.width;var o={};o=a<i?{unit:"px",width:t.videoWidth*e,height:t.videoWidth*a*e,aspect:1/a,x:0,y:(t.videoHeight-t.videoWidth*a)/2*e}:{unit:"px",width:t.videoHeight/a*e,height:t.videoHeight*e,aspect:1/a,x:(t.videoWidth-t.videoHeight/a)/2*e,y:0},this.setState({crop:o})}},{key:"render",value:function(){var e=this;if(this.state.templateRedirect)return localStorage.removeItem("template"),localStorage.getItem("faceVideo")&&localStorage.removeItem("faceVideo"),Object(a.jsx)(d.a,{to:{pathname:"template"}});if(this.state.shouldRedirect){var t={width:this.state.crop.width/this.state.disToRealRatio,height:this.state.crop.height/this.state.disToRealRatio,x:this.state.crop.x/this.state.disToRealRatio,y:this.state.crop.y/this.state.disToRealRatio};return localStorage.setItem("mainVideo",JSON.stringify(t)),localStorage.setItem("selectedMainVideo",JSON.stringify(this.state.crop)),Object(a.jsx)(d.a,{to:{pathname:"preview"}})}return Object(a.jsx)("div",{children:this.state.loading?Object(a.jsx)("div",{style:{marginTop:"100px",textAlign:"center"},children:Object(a.jsx)("h5",{children:"Wait a second..."})}):Object(a.jsx)("div",{children:Object(a.jsxs)(h.a,{ref:this.totalDiv,style:{width:"100%"},children:[Object(a.jsx)(p.a,{md:10,style:{padding:"0px"},children:Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)(u.a,{style:{width:"100%"},crop:this.state.crop,keepSelection:!0,onChange:function(t,i){e.handleCrop(t,i)},renderComponent:g(this.state.videoFilePath,this.videoPlayer)})})}),Object(a.jsxs)(p.a,{md:2,children:[Object(a.jsx)("div",{style:{marginTop:"30px",marginBottom:"30px",textAlign:"center"},children:Object(a.jsx)("button",{onClick:this.goToPreview,children:"Preview"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:this.goToTemplate,children:"Change Template"})})]})]})})})}}]),i}(c.Component));t.default=m;var g=function(e,t){return Object(a.jsx)("video",{ref:t,onLoadedData:function(){return t.current.play()},muted:!0,loop:!0,style:{display:"block",width:"100%"},onLoadStart:function(e){e.target.dispatchEvent(new Event("medialoaded",{bubbles:!0}))},children:Object(a.jsx)("source",{src:e,type:"video/mp4"})})}}}]);
//# sourceMappingURL=17.b91b7b04.chunk.js.map