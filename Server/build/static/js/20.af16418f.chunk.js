(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[20],{255:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(74),a=n(75),u=n(97),i=n(77),c=n(76),l=n(0),s=n(79),d=n.n(s),p=n(13),f=n(78),y=n(88),h=n(99),b=n.n(h),v={content:{width:"50%",height:"auto",margin:"auto",marginTop:"120px"}},g=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).state={amount:null,modalOpen:!1},o.handleVideoUpload=function(e){e.preventDefault(),console.log("event.target.files");var t=e.target.files,n=new FormData;n.append("myfile",t[0]);d.a.post("".concat("https://socialsgonewild.com/api/v1","/upload"),n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){o.setState({videoFilePath:"".concat("https://socialsgonewild.com/uploads","/uploadedVideos/").concat(e.data)})})).catch((function(e){console.log(e)}))},o.handleChange=function(e){o.setState({amount:e.target.value})},o.openModal=function(){o.state.amount>0?o.setState({modalOpen:!0}):alert("please input amount")},o.closeModal=function(){o.setState({modalOpen:!1})},o.createOrder=function(e,t){return d.a.post("".concat("https://socialsgonewild.com/api/v1","/paypal/create"),{orderId:Date.now(),amount:o.state.amount,description:"mechant"}).then((function(e){return console.log("res"),console.log(e),e.data.result.id}))},o.onApprove=function(e,t){var n=Object(u.a)(o);return d.a.post("".concat("https://socialsgonewild.com/api/v1","/paypal/capture"),{order:{id:e.orderID,userId:o.props.auth.user.id}}).then((function(e){if(e.data.balance){var t=JSON.parse(localStorage.getItem("user"));t.balance=e.data.balance,localStorage.setItem("user",JSON.stringify(t)),n.props.changeBalance(e.data.balance),n.closeModal()}return e}))},o}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return console.log("this.props"),console.log(this.props),Object(o.jsxs)("div",{style:{marginTop:"100px",textAlign:"center"},children:[Object(o.jsx)("div",{children:Object(o.jsx)("h3",{children:"Make a deposit"})}),Object(o.jsxs)("div",{style:{marginTop:"20px"},children:[Object(o.jsx)("span",{children:this.props.auth.user.balance}),Object(o.jsx)("span",{children:"\xa0\xa0 usd"})]}),Object(o.jsxs)("div",{style:{marginTop:"50px"},children:[Object(o.jsx)("div",{children:"amount:"}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{onChange:function(t){return e.handleChange(t)},type:"number"})})]}),Object(o.jsx)("div",{style:{marginTop:"50px"},onClick:function(){return e.openModal()},children:Object(o.jsx)("button",{children:"deposit"})}),Object(o.jsx)(b.a,{isOpen:this.state.modalOpen,onRequestClose:this.closeModal,contentLabel:"Paypal Modal",ariaHideApp:!1,style:v,children:Object(o.jsx)(y.PayPalButton,{createOrder:function(t,n){return e.createOrder(t,n)},onApprove:function(t,n){return e.onApprove(t,n)},options:{clientId:"Aegg544wO3m11jblWTgE_9xBk6erCLmdbLrrfrTFkfdniH6xrV9zMK7IvXD499YACCG3E4DliH9AQqBO"}})})]})}}]),n}(l.Component);t.default=Object(p.b)((function(e){return{auth:e.auth}}),(function(e){return{changeBalance:function(t){return e(Object(f.a)(t))}}}))(g)},78:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var o=n(18);function r(e,t){return"undefined"!=t&&"undefined"!=typeof t||(t=!1),{type:o.c,payload:{user:e,token:t}}}function a(e){return"undefined"!=e&&"undefined"!=typeof e||(e=!1),{type:o.b,payload:e}}function u(e){return"undefined"!=e&&"undefined"!=typeof e||(e=!1),{type:o.a,payload:e}}},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PayPalButton=void 0;var o=u(n(0)),r=u(n(11)),a=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,d(t).call(this,e))).state={isSdkReady:!1},n}var n,a,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&void 0!==window&&void 0===window.paypal?this.addPaypalSdk():"undefined"!==typeof window&&void 0!==window&&void 0!==window.paypal&&this.props.onButtonReady&&this.props.onButtonReady()}},{key:"createOrder",value:function(e,t){var n=this.props,o=n.currency,r=n.options,a=n.amount,u=n.shippingPreference;return t.order.create({purchase_units:[{amount:{currency_code:o||(r&&r.currency?r.currency:"USD"),value:a.toString()}}],application_context:{shipping_preference:u}})}},{key:"onApprove",value:function(e,t){var n=this;return t.order.capture().then((function(t){if(n.props.onSuccess)return n.props.onSuccess(t,e)})).catch((function(e){if(n.props.catchError)return n.props.catchError(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.amount,a=t.onSuccess,u=t.createOrder,i=t.createSubscription,l=t.onApprove,s=t.style;if(!this.state.isSdkReady&&("undefined"===typeof window||void 0===window.paypal))return null;var d=window.paypal.Buttons.driver("react",{React:o.default,ReactDOM:r.default}),p=n&&!u?function(t,n){return e.createOrder(t,n)}:function(e,t){return u(e,t)};return o.default.createElement(d,c({},this.props,{createOrder:i?void 0:p,createSubscription:i,onApprove:a?function(t,n){return e.onApprove(t,n)}:function(e,t){return l(e,t)},style:s}))}},{key:"addPaypalSdk",value:function(){var e=this,t=this.props,n=t.options,o=t.onButtonReady,r=[];Object.keys(n).forEach((function(e){var t=e.split(/(?=[A-Z])/).join("-").toLowerCase();r.push("".concat(t,"=").concat(n[e]))}));var a=document.createElement("script");a.type="text/javascript",a.src="https://www.paypal.com/sdk/js?".concat(r.join("&")),a.async=!0,a.onload=function(){e.setState({isSdkReady:!0}),o&&o()},a.onerror=function(){throw new Error("Paypal SDK could not be loaded.")},document.body.appendChild(a)}}])&&l(n.prototype,a),u&&l(n,u),t}(o.default.Component);t.PayPalButton=y,f(y,"propTypes",{amount:a.default.oneOfType([a.default.number,a.default.string]),currency:a.default.oneOfType([a.default.number,a.default.string]),shippingPreference:a.default.string,onSuccess:a.default.func,catchError:a.default.func,onError:a.default.func,createOrder:a.default.func,createSubscription:a.default.func,onApprove:a.default.func,style:a.default.object,options:a.default.shape({clientId:a.default.string,merchantId:a.default.string,currency:a.default.oneOfType([a.default.number,a.default.string]),intent:a.default.string,commit:a.default.oneOfType([a.default.bool,a.default.string]),vault:a.default.oneOfType([a.default.bool,a.default.string]),component:a.default.string,disableFunding:a.default.string,disableCard:a.default.string,integrationDate:a.default.string,locale:a.default.string,buyerCountry:a.default.string,debug:a.default.oneOfType([a.default.bool,a.default.string])}),onButtonReady:a.default.func}),f(y,"defaultProps",{style:{},options:{clientId:"sb",currency:"USD"},shippingPreference:"GET_FROM_FILE"})}}]);
//# sourceMappingURL=20.af16418f.chunk.js.map