(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[22],{257:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r(27),i=r(74),n=r(75),o=r(77),d=r(76),l=r(0),u=r(13),c=r(78),p=r(3),h=r(15),j=r(79),y=r.n(j),b=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var s;return Object(i.a)(this,r),(s=t.call(this,e)).state={email:"",password:"",emailKey:!1,passwordKey:!1,emailRequired:!1,passwordRequired:!1},s.handleInput=function(e,t){if(s.setState(Object(a.a)({},t,e.target.value)),"email"==t){!0===/[a-zA-Z0-9]+[\.]?([a-zA-Z0-9]+)?[\@][a-z]{3,9}[\.][a-z]{2,5}/g.test(e.target.value)?s.setState({emailKey:!1}):s.setState({emailKey:!0}),""==e.target.value?s.setState({emailRequired:!0}):s.setState({emailRequired:!1})}"password"==t&&(e.target.value.length<4?s.setState({passwordKey:!0}):s.setState({passwordKey:!1}),""==e.target.value?s.setState({passwordRequired:!0}):s.setState({passwordRequired:!1}))},s.login=function(){""!=s.state.email?""!=s.state.password?s.state.emailKey||s.state.passwordKey||y.a.post("".concat("https://socialsgonewild.com/api/v1","/auth/login"),{email:s.state.email,password:s.state.password}).then((function(e){e.data.status>300?s.setState({serverError:!0,error:e.data.error}):(localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.token),s.props.saveAuthInfo(e.data.user,e.data.token),s.setState({shouldRedirect:!0}))})):s.setState({passwordRequired:!0}):s.setState({emailRequired:!0})},s}return Object(n.a)(r,[{key:"render",value:function(){var e=this;return this.state.shouldRedirect?Object(s.jsx)(p.a,{to:"/"}):Object(s.jsxs)("div",{style:{marginTop:"100px",textAlign:"center"},children:[this.state.serverError?Object(s.jsx)("div",{style:{color:"red"},children:this.state.error}):null,Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("div",{children:"email:"}),Object(s.jsx)("input",{onChange:function(t){return e.handleInput(t,"email")},type:"email"}),this.state.emailKey?Object(s.jsx)("div",{style:{color:"red"},children:"email is invalid."}):null,this.state.emailRequired?Object(s.jsx)("div",{style:{color:"red"},children:"email is required."}):null]}),Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("div",{children:"password:"}),Object(s.jsx)("input",{onChange:function(t){return e.handleInput(t,"password")},type:"password"}),this.state.passwordKey?Object(s.jsx)("div",{style:{color:"red"},children:"password should be greater than 4 characters."}):null,this.state.passwordRequired?Object(s.jsx)("div",{style:{color:"red"},children:"password is required."}):null]}),Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)(h.b,{to:"/forgot-password",children:"Forgot Password?"})}),Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("button",{onClick:function(){e.login()},children:"Login"})}),Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)(h.b,{to:"/register",children:"not register? please register now."})})]})}}]),r}(l.Component);t.default=Object(u.b)((function(e){return{auth:e.auth}}),(function(e){return{saveAuthInfo:function(t,r){return e(Object(c.c)(t,r))}}}))(b)},78:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return n}));var s=r(18);function a(e,t){return"undefined"!=t&&"undefined"!=typeof t||(t=!1),{type:s.c,payload:{user:e,token:t}}}function i(e){return"undefined"!=e&&"undefined"!=typeof e||(e=!1),{type:s.b,payload:e}}function n(e){return"undefined"!=e&&"undefined"!=typeof e||(e=!1),{type:s.a,payload:e}}}}]);
//# sourceMappingURL=22.37a10c8f.chunk.js.map