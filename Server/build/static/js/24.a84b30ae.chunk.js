(this["webpackJsonpui-italy"]=this["webpackJsonpui-italy"]||[]).push([[24],{261:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s(74),o=s(75),a=s(77),i=s(76),c=s(0),d=s(13),u=s(78),l=s(3),p=s(15),h=s(79),y=s.n(h),f=function(e){Object(a.a)(s,e);var t=Object(i.a)(s);function s(e){var r;return Object(n.a)(this,s),(r=t.call(this,e)).state={password:"",shouldRedirect:!1,passwordKey:!1,passwordLenKey:!1},r.handleInput=function(e){r.setState({password:e.target.value}),""!=e.target.value?(r.setState({passwordKey:!1}),e.target.value.length<4?r.setState({passwordLenKey:!0}):r.setState({passwordLenKey:!1})):r.setState({passwordKey:!0})},r.Register=function(){""!=r.state.password?(r.setState({passwordKey:!1}),r.state.password.length<4?r.setState({passwordLenKey:!0}):(r.setState({passwordLenKey:!1}),y.a.post("".concat("https://socialsgonewild.com/api/v1","/auth/reset-password"),{email:localStorage.getItem("emailForForgot"),password:r.state.password}).then((function(e){e.data.status>300?r.setState({serverError:!0,error:e.data.error}):(console.log("res"),console.log(e),localStorage.removeItem("emailForForgot"),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.token),r.props.saveAuthInfo(e.data.user,e.data.token),r.setState({shouldRedirect:!0}))})).catch((function(e){console.log(e)})))):r.setState({passwordKey:!0})},r}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return console.log("this.state"),console.log(this.state),this.state.shouldRedirect?Object(r.jsx)(l.a,{to:"/"}):Object(r.jsxs)("div",{style:{marginTop:"100px",textAlign:"center"},children:[this.state.serverError?Object(r.jsx)("div",{style:{color:"red"},children:this.state.error}):null,Object(r.jsxs)("div",{style:{marginTop:"20px"},children:[Object(r.jsx)("div",{children:"Enter  your new password:"}),Object(r.jsx)("input",{onChange:function(t){return e.handleInput(t)},type:"text"}),this.state.passwordKey?Object(r.jsx)("div",{style:{color:"red"},children:"Password is required."}):null,this.state.passwordLenKey?Object(r.jsx)("div",{style:{color:"red"},children:"Password should be greater than 4 characters."}):null]}),Object(r.jsx)("div",{style:{marginTop:"20px"},children:Object(r.jsx)("button",{onClick:function(){e.Register()},children:"Reset Password"})}),Object(r.jsx)("div",{style:{marginTop:"20px"},children:Object(r.jsx)(p.b,{to:"/",children:"Go To Home"})})]})}}]),s}(c.Component);t.default=Object(d.b)((function(e){return{auth:e.auth}}),(function(e){return{saveAuthInfo:function(t,s){return e(Object(u.c)(t,s))}}}))(f)},78:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return a}));var r=s(18);function n(e,t){return"undefined"!=t&&"undefined"!=typeof t||(t=!1),{type:r.c,payload:{user:e,token:t}}}function o(e){return"undefined"!=e&&"undefined"!=typeof e||(e=!1),{type:r.b,payload:e}}function a(e){return"undefined"!=e&&"undefined"!=typeof e||(e=!1),{type:r.a,payload:e}}}}]);
//# sourceMappingURL=24.a84b30ae.chunk.js.map